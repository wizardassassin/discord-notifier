import sys
import json
from mcstatus import JavaServer

server_ip = "127.0.0.1:25565"

default_favicon = "data:image/png;base64,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"

if len(sys.argv) > 1:
    server_ip = sys.argv[1]

server = JavaServer.lookup(server_ip)

try:
    status = server.status()
    ret_favicon = status.favicon if status.favicon is not None else default_favicon
    favicon = ret_favicon[22:]
    print(json.dumps({"online": True, "favicon": favicon}))
except Exception:
    print(json.dumps({"online": False}))
